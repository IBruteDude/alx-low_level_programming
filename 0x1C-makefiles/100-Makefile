CC=gcc
SRC=main.c school.c
OBJ=$(SRC:.c=.o)
NAME=school
RM=rm
CFLAGS=-Wall -Werror -Wextra -pedantic
cc=$(CC)
rmf=$(RM)
src=$(SRC)
obj=$(OBJ)

.PHONY: all
all: $(obj)
	$(cc) $(CFLAGS) $(obj) -o $(NAME)

.PHONY: clean
clean: fclean oclean

.PHONY: oclean
oclean:
	$(rmf) -f $(obj)

.PHONY: fclean
fclean: oclean
	$(rmf) -f *.swp *~ $(NAME)

.PHONY: re
re: oclean $(obj) all

$(obj): $(src) m.h
	$(cc) $(CFLAGS) $(src) -c
